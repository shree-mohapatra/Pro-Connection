(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{1071:(e,n,t)=>{"use strict";t.d(n,{A:()=>p});var s=t(7876),o=t(4232),i=t(5301),r=t.n(i),a=t(9099),l=t(4695),d=t(1777),c=t(3009);function p(e){let{children:n}=e,t=(0,a.useRouter)(),i=(0,d.wA)(),p=(0,d.d4)(e=>e.auth);return(0,o.useEffect)(()=>{localStorage.getItem("token")?(i((0,l.uB)()),i((0,c.CF)())):t.push("/login")},[i,t]),(0,s.jsxs)("div",{className:"container",children:[(0,s.jsxs)("div",{className:r().homeContainer,children:[(0,s.jsxs)("div",{className:r().homeContainer_leftBar,children:[(0,s.jsxs)("div",{onClick:()=>{t.push("/dashboard")},className:r().sideBarOption,children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),(0,s.jsx)("p",{children:"Home"})]}),(0,s.jsxs)("div",{onClick:()=>{t.push("/discover")},className:r().sideBarOption,children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),(0,s.jsx)("p",{children:"Discover"})]}),(0,s.jsxs)("div",{onClick:()=>{t.push("/my_connections")},className:r().sideBarOption,children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),(0,s.jsx)("p",{children:"My Connections"})]})]}),(0,s.jsx)("div",{className:r().homeContainer_feedContainer,children:n}),(0,s.jsxs)("div",{className:r().homeContainer_extraContainer,children:[(0,s.jsx)("h3",{children:"Top Profiles"}),p.all_profiles_fetched&&p.all_users.map(e=>(0,s.jsx)("div",{className:r().extraContainer_profile,children:(0,s.jsx)("p",{children:e.userId.name})},e._id))]})]}),(0,s.jsxs)("div",{className:r().mobileNavBar,children:[(0,s.jsx)("div",{onClick:()=>{t.push("/dashboard")},className:r().singleNavItemHolder_mobileView,children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})}),(0,s.jsx)("div",{onClick:()=>{t.push("/discover")},className:r().singleNavItemHolder_mobileView,children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),(0,s.jsx)("div",{onClick:()=>{t.push("/my_connections")},className:r().singleNavItemHolder_mobileView,children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})})]})]})}},1280:(e,n,t)=>{"use strict";t.d(n,{A:()=>c});var s=t(7876);t(4232);var o=t(6610),i=t.n(o),r=t(9099),a=t(1777),l=t(4695);function d(){let e=(0,r.useRouter)(),n=(0,a.wA)(),t=(0,a.d4)(e=>e.auth);return(0,s.jsx)("div",{className:i().container,children:(0,s.jsxs)("nav",{className:i().navBar,children:[(0,s.jsx)("h1",{style:{cursor:"pointer"},onClick:()=>{e.push("/")},children:"Pro Connect"}),(0,s.jsxs)("div",{className:i().navBarOptionContainer,children:[t.profileFetched&&(0,s.jsx)("div",{children:(0,s.jsxs)("div",{style:{display:"flex",gap:"1.2rem"},children:[(0,s.jsx)("p",{onClick:()=>{e.push("/profile")},style:{fontWeight:600,cursor:"pointer"},children:"Profile"}),(0,s.jsx)("p",{onClick:()=>{localStorage.removeItem("token"),e.push("/login"),n((0,l.cL)())},style:{fontWeight:600,cursor:"pointer"},children:"Logout"})]})}),!t.profileFetched&&(0,s.jsx)("div",{onClick:()=>{e.push("/login")},className:i().buttonJoin,children:(0,s.jsx)("p",{children:"Be a part"})})]})]})})}let c=function(e){let{children:n}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)(d,{}),n]})}},4001:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>m});var s=t(7876),o=t(3009),i=t(1071),r=t(1280),a=t(4232),l=t(1777),d=t(9617),c=t.n(d),p=t(1436),h=t(7285);function m(){let e=(0,l.wA)(),n=(0,l.d4)(e=>e.auth),t=(0,l.d4)(e=>e.postReducer),[d,m]=(0,a.useState)({}),[u,_]=(0,a.useState)([]),[x,j]=(0,a.useState)(!1),[C,f]=(0,a.useState)(!1),[v,k]=(0,a.useState)({company:"",position:"",years:""}),[g,y]=(0,a.useState)({school:"",degree:"",fieldOfStudy:""}),N=e=>{let{name:n,value:t}=e.target;k({...v,[n]:t})},w=e=>{let{name:n,value:t}=e.target;y({...g,[n]:t})};(0,a.useEffect)(()=>{e((0,o.Zt)({token:localStorage.getItem("token")})),e((0,h.zX)())},[]),(0,a.useEffect)(()=>{void 0!=n.user&&(m(n.user),_(t.posts.filter(e=>e.userId.username===n.user.userId.username)))},[n.user,t.posts]);let B=async n=>{let t=new FormData;t.append("profile_picture",n),t.append("token",localStorage.getItem("token")),await p.$.post("/upload_profile_picture",t,{headers:{"Content-Type":"multipart/form-data"}}),e((0,o.Zt)({token:localStorage.getItem("token")}))},b=async()=>{await p.$.post("/user_update",{token:localStorage.getItem("token"),name:d.userId.name}),await p.$.post("/update_profile_data",{token:localStorage.getItem("token"),bio:d.bio,currentPost:d.currentPost,pastWork:d.pastWork,education:d.education}),e((0,o.Zt)({token:localStorage.getItem("token")}))};return(0,s.jsx)(r.A,{children:(0,s.jsxs)(i.A,{children:[n.user&&d.userId?(0,s.jsxs)("div",{className:c().container,children:[(0,s.jsxs)("div",{className:c().backDropContainer,children:[(0,s.jsx)("label",{htmlFor:"profilePictureupload",className:c().backDrop_overlay,children:(0,s.jsx)("p",{children:"Edit"})}),(0,s.jsx)("input",{onChange:e=>{B(e.target.files[0])},hidden:!0,type:"file",id:"profilePictureupload"}),(0,s.jsx)("img",{src:"".concat(p.C,"/").concat(d.userId.profilePicture),alt:"profile"})]}),(0,s.jsx)("div",{className:c().profileContainer_details,children:(0,s.jsxs)("div",{className:c().profileContainer_flex,children:[(0,s.jsxs)("div",{style:{flex:"0.8"},children:[(0,s.jsxs)("div",{style:{display:"flex",width:"fit-content",alignItems:"center",gap:"1.2rem"},children:[(0,s.jsx)("input",{className:c().nameEdit,type:"text",value:d.userId.name,onChange:e=>m({...d,userId:{...d.userId,name:e.target.value}})}),(0,s.jsxs)("p",{style:{color:"gray"},children:["@",d.userId.username]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("textarea",{value:d.bio,onChange:e=>{m({...d,bio:e.target.value})},rows:Math.max(3,Math.ceil(d.bio.length/80)),style:{width:"100%"}})})]}),(0,s.jsxs)("div",{style:{flex:"0.2"},children:[(0,s.jsx)("h3",{children:"Recent Activity"}),u.map(e=>(0,s.jsx)("div",{className:c().postCard,children:(0,s.jsxs)("div",{className:c().card,children:[(0,s.jsx)("div",{className:c().card_profileContainer,children:""!==e.media?(0,s.jsx)("img",{src:"".concat(p.C,"/").concat(e.media),alt:"img"}):(0,s.jsx)("div",{style:{width:"3.4rem",height:"3.4rem"}})}),(0,s.jsx)("p",{children:e.body})]})},e._id))]})]})}),(0,s.jsxs)("div",{className:c().workHistory,children:[(0,s.jsx)("h4",{children:"Work History"}),(0,s.jsxs)("div",{className:c().workHistoryContainer,children:[d.pastWork.map((e,n)=>(0,s.jsxs)("div",{className:c().workHistoryCard,children:[(0,s.jsxs)("p",{style:{fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.8rem"},children:[e.company,"-",e.position]}),(0,s.jsx)("p",{children:e.years})]},n)),(0,s.jsx)("button",{className:c().addWorkBtn,onClick:()=>{j(!0)},children:"Add Your Work"})]})]}),(0,s.jsxs)("div",{className:c().workHistory,children:[(0,s.jsx)("h4",{children:"Education"}),(0,s.jsxs)("div",{className:c().workHistoryContainer,children:[d.education.map((e,n)=>(0,s.jsxs)("div",{className:c().workHistoryCard,children:[(0,s.jsxs)("p",{style:{fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.8rem"},children:[e.school,"-",e.degree]}),(0,s.jsx)("p",{children:e.fieldOfStudy})]},n)),(0,s.jsx)("button",{className:c().addWorkBtn,onClick:()=>{f(!0)},children:"Add Education"})]})]}),d!=n.user&&(0,s.jsx)("div",{onClick:()=>{b()},className:c().updateProfileBtn,children:"Update Profile"})]}):(0,s.jsx)("h2",{children:"Loading..."}),x&&(0,s.jsx)("div",{onClick:()=>{j(!1)},className:c().commentsContainer,children:(0,s.jsxs)("div",{onClick:e=>{e.stopPropagation()},className:c().allCommentsContainer,children:[(0,s.jsx)("input",{onChange:N,name:"company",className:c().inputField,type:"text",placeholder:"Enter Company"}),(0,s.jsx)("input",{onChange:N,className:c().inputField,name:"position",type:"text",placeholder:"Enter Position"}),(0,s.jsx)("input",{onChange:N,name:"years",className:c().inputField,type:"number",placeholder:"Years of Working"}),(0,s.jsx)("div",{onClick:()=>{m({...d,pastWork:[...d.pastWork,v]}),j(!1)},className:c().updateProfileBtn,children:"Add Work"})]})}),C&&(0,s.jsx)("div",{onClick:()=>{f(!1)},className:c().commentsContainer,children:(0,s.jsxs)("div",{onClick:e=>{e.stopPropagation()},className:c().allCommentsContainer,children:[(0,s.jsx)("input",{onChange:w,name:"school",className:c().inputField,type:"text",placeholder:"Enter School"}),(0,s.jsx)("input",{onChange:w,className:c().inputField,name:"degree",type:"text",placeholder:"Enter degree"}),(0,s.jsx)("input",{onChange:w,name:"fieldOfStudy",className:c().inputField,type:"text",placeholder:"Enter Field of Study"}),(0,s.jsx)("div",{onClick:()=>{m({...d,education:[...d.education,g]}),f(!1)},className:c().updateProfileBtn,children:"Add Education"})]})})]})})}},5301:e=>{e.exports={homeContainer:"style_homeContainer__q0dh_",homeContainer_leftBar:"style_homeContainer_leftBar__1Zu1D",sideBarOption:"style_sideBarOption___Cm1r",homeContainer_extraContainer:"style_homeContainer_extraContainer__R595T",homeContainer_feedContainer:"style_homeContainer_feedContainer__P_CH_",mobileNavBar:"style_mobileNavBar__0A01M",singleNavItemHolder_mobileView:"style_singleNavItemHolder_mobileView__KI6oz"}},6610:e=>{e.exports={container:"styles_container__WCP1D",navBar:"styles_navBar__nMGt3",navBarOptionContainer:"styles_navBarOptionContainer__6SJrf",buttonJoin:"styles_buttonJoin__hW__U"}},9099:(e,n,t)=>{e.exports=t(8253)},9275:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(4001)}])},9617:e=>{e.exports={container:"profile_container__oOWE6",backDropContainer:"profile_backDropContainer__yjSzu",profileContainer_details:"profile_profileContainer_details__VrJ1Y",card:"profile_card__cvuSz",card_profileContainer:"profile_card_profileContainer__KI0ty",backDrop_overlay:"profile_backDrop_overlay__Ioptc",connectBtn:"profile_connectBtn__LkEe3",connectedButton:"profile_connectedButton__C6BMm",workHistoryContainer:"profile_workHistoryContainer__KZucT",workHistoryCard:"profile_workHistoryCard__VOhd6",nameEdit:"profile_nameEdit__JI1j_",updateProfileBtn:"profile_updateProfileBtn__juKZ3",addWorkBtn:"profile_addWorkBtn__YOF98",commentsContainer:"profile_commentsContainer__yjsIq",allCommentsContainer:"profile_allCommentsContainer__IVHMT",inputField:"profile_inputField__MuZ1h",profileContainer_flex:"profile_profileContainer_flex__NjdWK"}}},e=>{e.O(0,[636,593,792],()=>e(e.s=9275)),_N_E=e.O()}]);